<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title> CLEAR Report</title>
        <link rel="stylesheet" type="text/css" href="CLEAR.css">
    </head>

    <body>

        <div class="first-div">
        <h1>CLEAR Report:&nbsp   <span class="CLEARdataset">
            PIMA Indians Diabetes</span></h1>
            <hr class="clear">
            <span class="main-text2"> Prediction to be explained:&nbsp Observation&nbsp<span class="AI_prob">1</span> has <span class="AI_prob">0.6</span> probability of diabetes </span>    
        <hr class="clear">
        <h2>W-Counterfactual Results</h2>
        </div>   
        
        
        <div class="flexi-cont"> 
            <div class="actual-counterfactuals">
               <p class= "main-text">These are the results of carrying out a grid search on the <strong>target</strong>  AI system. <br><span class="smallerText">("Counterfactual value" = value needed to be at the decision boundary).</span> </p>  
              <p class= "counterfactual-table" > <table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>input value</th>
      <th>actual w-counterfactual value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Pregnancies</td>
      <td>0.37</td>
      <td>-0.49</td>
    </tr>
    <tr>
      <td>Glucose</td>
      <td>0.54</td>
      <td>0.38</td>
    </tr>
    <tr>
      <td>SkinThickness</td>
      <td>0.017</td>
      <td>-1.89</td>
    </tr>
    <tr>
      <td>BMI</td>
      <td>2.5</td>
      <td>0.09</td>
    </tr>
    <tr>
      <td>Age</td>
      <td>0.36</td>
      <td>0.15</td>
    </tr>
  </tbody>
</table></p>
            </div>
            
            <div class= "reg-formula">
                <p id="regression-formula">prediction = 0.4 - 0.034 BloodPressure + 0.0018 SkinThickness + 0.15 BMI + 0.022 Pregnancies + 0.23 Glucose - 0.0051 Insulin + 0.047 DiabetesPedigreeFunction + 0.044 Age + 0.043 Insulin*Age - 0.029 BMI sqrd</p>       
                
                <form  id="Simplify-regression">
                    <input type="checkbox" id="simplify" />
                    <label for="simplify">Simplify display of regression equation</label>	    	
	            </form>  
                
                <form>      
                    <fieldset id="Select-features">      
                        <legend>Select Features</legend>      
                        <button id="Select-button" type="button">Show</button>
                    </fieldset>      
                </form>
                <p class="main-text", id= "simplified-equation"> </p> <br>
            </div>
                   
            <div class="regression-counterfactuals">
                <p class="main-text"> Regression model's estimates of counterfactual values:</p>
                <br><br>
                <p class= "counterfactual-table" ><table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>estimated w-counterfactual value</th>
      <th>w-counterfactual fidelity error</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Pregnancies</td>
      <td>-4</td>
      <td>3.5</td>
    </tr>
    <tr>
      <td>Glucose</td>
      <td>0.11</td>
      <td>0.27</td>
    </tr>
    <tr>
      <td>SkinThickness</td>
      <td>-56</td>
      <td>54</td>
    </tr>
    <tr>
      <td>BMI</td>
      <td>0.71</td>
      <td>0.62</td>
    </tr>
    <tr>
      <td>Age</td>
      <td>-1.8</td>
      <td>1.9</td>
    </tr>
  </tbody>
</table></p>

            </div>
        </div>    
            
        
        <div class="clearfix"></div>
        <br>
     <hr>    
        <h2>Regression Results</h2> 
        <section class= "regress-section">
        <div class= "reg-div">
            <p class="main-text"> Key Features.<br><span class="smallerText">(These are the features with largest absolute <em>coefficients</em>).</span>  
            </p>
            <p id="regression-table"><table border="1" class="dataframe mystyle">
  <thead>
    <tr style="text-align: left;">
      <th>feature</th>
      <th>input value</th>
      <th>coeff</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Glucose</td>
      <td>0.54</td>
      <td>0.23</td>
    </tr>
    <tr>
      <td>BMI</td>
      <td>2.5</td>
      <td>0.15</td>
    </tr>
    <tr>
      <td>DiabetesPedigreeFunction</td>
      <td>-0.77</td>
      <td>0.047</td>
    </tr>
    <tr>
      <td>Age</td>
      <td>0.36</td>
      <td>0.044</td>
    </tr>
    <tr>
      <td>Insulin_Age</td>
      <td>0.018</td>
      <td>0.043</td>
    </tr>
    <tr>
      <td>BloodPressure</td>
      <td>3.1</td>
      <td>-0.034</td>
    </tr>
    <tr>
      <td>BMI_sqrd</td>
      <td>6.3</td>
      <td>-0.029</td>
    </tr>
    <tr>
      <td>Pregnancies</td>
      <td>0.37</td>
      <td>0.022</td>
    </tr>
    <tr>
      <td>Insulin</td>
      <td>0.051</td>
      <td>-0.0051</td>
    </tr>
    <tr>
      <td>SkinThickness</td>
      <td>0.017</td>
      <td>0.0018</td>
    </tr>
  </tbody>
</table> </p>       
        </div>
        
        <div class= "reg-GRAPH">
            <img src="CLEAR_plot.png" alt="Regression plot">         
        </div>

        <div>
             <p class="main-text3"> &nbsp Quality of regression statistic:<br><br>
                &nbsp Adjusted R-Squared =
            0.78</p>
        </div>    
       </section>
        
    
        
       <div id="feature-list"> 
           <p id="features"> ['Pregnancies', 'Glucose', 'BloodPressure', 'SkinThickness', 'Insulin', 'BMI', 'DiabetesPedigreeFunction', 'Age'] </p>  
           <p id="spreadsheet-data"> [3.0767556169068184, 0.016744759537567572, 2.519890136339334, 0.3744085492256247, 0.53693120065909, 0.050803839150578116, -0.770276049307099, 0.3597727983070522, 0.018277839375944863, 6.349846299220266] </p>  
           <p id="weights"> [-0.03352451902965492, 0.0017519881037584518, 0.14603414939049345, 0.022462587885050313, 0.23071525511638408, -0.005133977410359565, 0.04703633511285986, 0.04393806288141259, 0.043192842175843266, -0.028553035929031027] </p>
           <p id ="intercept">0.40159626484723876</p>
           <p id ="regression-type">multiple</p>
       </div>
        
        
    <script src="CLEARapp.js"></script>
  </body>
</html>